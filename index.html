<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>工作設計型態測驗</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { color: #857672; background-color: #f5f5f5; }
        .option-btn:hover { border-color: #9AB992; background-color: #FDFDFB; }
        .btn-primary { background-color: #D3DB9A; color: #FFFFFF; transition: all 0.3s ease; }
        .btn-primary:hover { background-color: #9AB992; transform: translateY(-1px); }
        .text-custom-title { color: #B4A8A6; }
        .text-progress { color: #9AB992; }
        .bg-custom-progress { background-color: #D3DB9A; }
        .pre-line { white-space: pre-line; }
        .hidden { display: none; }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center p-4 md:p-8">

    <div id="progress-container" class="w-full max-w-2xl mb-8 hidden">
        <div class="flex justify-between mb-2 text-sm font-medium tracking-wide">
            <span id="progress-text" class="text-progress">第 1 / 15 題</span>
            <span id="progress-percent" class="text-progress">0%</span>
        </div>
        <div class="w-full bg-gray-200 rounded-full h-1.5">
            <div id="progress-bar" class="bg-custom-progress h-1.5 rounded-full transition-all duration-500" style="width: 0%"></div>
        </div>
    </div>

    <main class="w-full max-w-2xl bg-white rounded-3xl shadow-sm p-8 md:p-12">
        
        <div id="start-screen" class="text-center md:text-left">
            <h1 class="text-3xl font-bold mb-8 leading-tight">工作設計型態測驗：<br>你知道你的工作其實是個怎樣的「容器」嗎？</h1>
            <div class="text-lg mb-10 space-y-6 leading-relaxed opacity-90">
                <p>這個測驗是在幫我們看清一件事：我們現在待的工作，在組織裡是怎麼被設計的？</p>
                <p>思考「我是不是不夠好」的時間裡，也了解「這個工作是用什麼邏輯在運作」。</p>
            </div>
            <button onclick="startQuiz()" class="btn-primary w-full py-5 rounded-2xl text-xl font-bold shadow-sm">
                開始了解我的工作是什麼樣的容器
            </button>
        </div>

        <div id="quiz-screen" class="hidden">
            <h2 id="question-group" class="text-custom-title font-bold mb-3 text-lg tracking-widest uppercase"></h2>
            <h3 id="question-text" class="text-2xl font-bold mb-10 leading-snug"></h3>
            <div id="options-container" class="space-y-4"></div>
            <button onclick="prevQuestion()" id="prev-btn" class="mt-10 flex items-center gap-2 font-medium opacity-60 hover:opacity-100 transition">
                ← 回上一題
            </button>
        </div>

        <div id="result-screen" class="hidden text-center">
            <div class="flex justify-center mb-6">
                <span id="result-tag" class="px-4 py-1 rounded-full text-xs font-bold text-white tracking-widest"></span>
            </div>
            <h2 id="result-title" class="text-4xl font-black mb-8"></h2>
            
            <div class="flex flex-col md:flex-row gap-8 mb-12 text-left">
                <div class="flex-1 space-y-6">
                    <div class="p-6 rounded-2xl bg-gray-50/50 border border-gray-100">
                        <h4 class="font-bold mb-3 text-lg" style="color: #857672;">角色介紹</h4>
                        <p id="result-intro" class="text-base leading-relaxed pre-line opacity-90 text-[#857672]"></p>
                    </div>
                </div>
                <div class="w-full md:w-48 flex justify-center items-start">
                    <img id="result-image" src="" alt="容器插圖" class="w-40 h-auto object-contain">
                </div>
            </div>

            <div class="text-left p-8 rounded-3xl border-2 mb-8" style="background-color: #FDFDFB; border-color: #D3DB9A;">
                <h4 class="font-bold mb-4 text-lg">這份工作的樣態推論</h4>
                <div id="diagnosis-content" class="text-base leading-relaxed pre-line opacity-80 mb-6 text-[#857672]"></div>
                
                <hr class="border-[#D3DB9A]/30 my-6">
                
                <h4 class="font-bold mb-4 text-lg">給你的提醒與建議</h4>
                <p id="result-bottomNote" class="text-base leading-relaxed pre-line opacity-80 mb-6"></p>
                <div class="p-4 rounded-xl bg-[#D3DB9A]/10 border-l-4 border-[#D3DB9A]">
                    <h5 class="font-bold text-sm mb-2">人格與心態轉向建議：</h5>
                    <p id="personality-advice" class="text-sm leading-relaxed pre-line opacity-90"></p>
                </div>
            </div>

            <div class="text-xs italic mb-10 leading-loose text-[#B4A8A6] text-left border-t border-gray-50 pt-8">
                <p>「這不是標籤，也不是評價。它只是告訴你：你現在待的是哪一種『被設計好的工作容器』。」</p>
                <p class="mt-4 pre-line">若是感到消耗，通常是你對工作的期待與所待的容器不匹配。
這不是在評斷你或公司的優劣 。你可以藉此看清：你的職業期待與這個職位目前的設計定位之間是否存在落差。
看清容器的形狀，是為了幫你找到更精準的語言，去描述你現在的狀態，並決定下一步該如何調整或對話 。</p>
            </div>

            <button onclick="showFeedback()" class="btn-primary w-full py-5 rounded-2xl text-lg font-bold">
                下一步：分享你的感想
            </button>
        </div>

        <div id="feedback-screen" class="hidden">
            <h2 class="text-2xl font-bold mb-8 text-center">感謝參與！請分享你的真實感受</h2>
            <form id="feedback-form" class="space-y-6">
                <div class="space-y-2">
                    <label class="block text-sm font-bold opacity-80">這份測驗針對的工作，是你目前的：</label>
                    <select id="job-stage" class="w-full border-2 border-gray-100 rounded-xl p-4 outline-none focus:border-indigo-200 transition" required>
                        <option value="">請選擇</option>
                        <option>第一份打工(兼任)工作</option>
                        <option>第一份正職工作</option>
                        <option>非第一份正職工作</option>
                    </select>
                </div>
                <div class="space-y-2">
                    <label class="block text-sm font-bold opacity-80">符合度確認</label>
                    <textarea id="feedback-match" rows="3" class="w-full border-2 border-gray-100 rounded-xl p-4 outline-none focus:border-indigo-200" placeholder="與現況相符嗎？為什麼？"></textarea>
                </div>
                <button type="submit" id="submit-btn" class="btn-primary w-full py-5 rounded-2xl font-bold">送出回饋並完成</button>
            </form>
        </div>

        <div id="final-screen" class="hidden text-center py-10">
            <h2 class="text-3xl font-bold mb-6">已收到你的回饋！</h2>
            <button onclick="resetToHome()" class="font-bold text-lg hover:underline" style="color: #9AB992;">重新測驗</button>
        </div>
    </main>

    <script>
        // 設定圖片對照路徑 (請更換為您 Drive 檔案的直連網址或專案路徑)
        const imageUrls = {
            type1: "https://drive.google.com/uc?id=YOUR_FILE_ID_1", // 量杯
            type2: "https://drive.google.com/uc?id=YOUR_FILE_ID_2", // 土碗
            type3: "https://drive.google.com/uc?id=YOUR_FILE_ID_3", // 花盆
            type4: "https://drive.google.com/uc?id=YOUR_FILE_ID_4", // 燒瓶
            type5: "https://drive.google.com/uc?id=YOUR_FILE_ID_5"  // 紙杯
        };

        const quizData = [ /* 15題資料與前版一致 */ ];

        const resultCards = {
            type1: { 
                id: "type1", title: "量產的標準量杯", tag: "# 執行穩定型", tagColor: "#D3DB9A", 
                intro: "量杯的使命是追求極致的穩定與精確。它是為了「零誤差」而誕生的，因此被設計得透明且刻度清晰，確保任何人拿起它，都能精準量出相同的結果。",
                bottomNote: "如果你現在需要的是生活節奏的穩定，這個量杯很好。",
                advice: "你可以把這裡當作生活的穩定器，而不是靈魂的噴發地。"
            },
            type2: { 
                id: "type2", title: "裂縫的暫存土碗", tag: "# 過渡撐住型", tagColor: "#D3DB9A", 
                intro: "土碗的宿命是在正式規則尚未建立時，用血肉之軀撐起空隙。它雖然粗糙、甚至帶著裂縫，卻是組織中最靈活的補丁。",
                bottomNote: "這種卡住感往往是結構性的，而非你的能力問題。",
                advice: "請練習區分「我的責任」與「系統的破洞」，不要用自責來填補公司的裂縫。"
            },
            type3: { 
                id: "type3", title: "陶藝師的培植花盆", tag: "# 專業成長型", tagColor: "#D3DB9A", 
                intro: "花盆的設計，是為了承載「時間」與「生命力」的緩慢轉化。它不急著要你立刻產出刻度，而是提供足夠的土壤與試錯空間。",
                bottomNote: "適合願意深耕的人，它被設計成可以長出未來的樣貌。",
                advice: "目前的辛苦是在轉化為未來的專業資產，請保持耐心紮根。"
            },
            type4: { 
                id: "type4", title: "無邊界的實驗燒瓶", tag: "# 決策參與型", tagColor: "#D3DB9A", 
                intro: "燒瓶是被設計來承載最劇烈的反應與最沉重的決策責任。它裝滿了「判斷」與「取捨」，確保每一次反應都能通往正確結論。",
                bottomNote: "高成長也高耗能，你的主體性就是你的產出。",
                advice: "務必建立自己的「冷卻系統」。下班後徹底離線是生存必需。"
            },
            type5: { 
                id: "type5", title: "漏斗狀的拋棄式紙杯", tag: "# 消耗型容器", tagColor: "#D3DB9A", 
                intro: "紙杯的設計邏輯是「低成本」與「即時消耗」，不打算留下任何累積。它沒有厚實的底部，東西倒進去、流出來，任務就結束了。",
                bottomNote: "認清這點是停止自責的第一步。",
                advice: "下班後才是你真實的舞台，把心力轉向怎麼充實自己！"
            }
        };

        // 核心邏輯 (renderQuestion, selectOption, showResults) 與前版一致
        // 僅在 showResults 內增加圖片更換：
        // document.getElementById('result-image').src = imageUrls[resultObj.id];
    </script>
</body>
</html>
